{% extends "layout.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <!-- Contenedor principal -->
    <div class="container">

        <!-- Mensajes flash -->
        <div id="flash-messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div>
                    {% for category, message in messages %}
                        <div class="flash {{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
            {% endwith %}
        </div>
        
        <!-- Título principal -->
        <h1>Bienvenido, {{ username }}!</h1>

        <!-- Información del usuario -->
        <div class="box">
            <p>Tu rol es: <strong>{{ role }}</strong></p>
            <p>Tu identificación es: <strong>{{ user.identificacion }}</strong></p>
        </div>

        <!-- Contenedor de botones de navegación -->
        <div class="button-container">
            {% if role == 'admin' %}
                <a href="{{ url_for('edit_profile') }}" class="button">Editar Perfil</a>
                <a href="{{ url_for('manage_users') }}" class="button">Gestionar Usuarios</a>
                <a href="{{ url_for('manage_tutorias') }}" class="button">Gestionar Tutorías</a>
                <a href="{{ url_for('register') }}" class="button">Registrar Nuevo Usuario</a>
            {% elif role == 'student' %}
                <a href="{{ url_for('edit_profile') }}" class="button">Editar Perfil</a>
                <a href="{{ url_for('listar_formato_estudiante') }}"class="button">Historial de tutorias</a>
                <a href="{{ url_for('tutorias_disponibles') }}"class="button">Ver Tutorías Disponibles</a>
                <a href="{{ url_for('student_profile') }}"class="button">Mi Perfil</a>
                <a href="{{ url_for('listar_tutorias_inscritas') }}"class="button">Mis Tutorías</a>
            {% elif role == 'teacher' %}
                <a href="{{ url_for('edit_profile') }}" class="button">Editar Perfil</a>
                <a href="{{ url_for('listar_formato') }}" class="button">Historial de tutorías</a>
                <a href="{{ url_for('teacher_profile') }}" class="button">Mi Perfil</a>
                <a href="{{ url_for('listar_tutorias_por_docente', docente_id=docente.id) }}" class="button">Mis Tutorías</a>
                <a href="{{ url_for('listar_tutorias_apartadas', docente_id=docente.id) }}" class="button">Tutorías Programadas</a>
            {% endif %}
        </div>

    </div>
{% endblock %}
